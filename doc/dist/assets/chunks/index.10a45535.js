import{g as A,_ as F,s as qe,a as Fe,b as le,i as Ve,c as Q}from"./index.c22d8ed2.js";import{d as x,j as y,m as d,H as N,o as g,D as M,E as D,C as R,n as b,r as I,a as X,t as Y,a5 as fe,w as de,q as Ne,c as q,J as c,a1 as Le,L as Ie,a3 as se,I as z,G as ae,a6 as We,F as Ke,a7 as ze,a8 as Ue,B as Ee,Z as Ge,a9 as Ze}from"./framework.426ad03f.js";import{T as Je,I as Qe,a as Re,b as Xe,u as Ye,c as Se,R as xe,o as et,r as tt}from"./index.cd8bfa76.js";const ot=x({name:"Popover",components:{Trigger:Je},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},title:String,content:String,trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"top"},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupContainer:{type:[String,Object]}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:t}){const o=A("popover"),n=y(e.defaultPopupVisible),l=d(()=>{var u;return(u=e.popupVisible)!=null?u:n.value}),a=u=>{n.value=u,t("update:popupVisible",u),t("popupVisibleChange",u)},i=d(()=>[`${o}-popup-content`,e.contentClass]),r=d(()=>[`${o}-popup-arrow`,e.arrowClass]);return{prefixCls:o,computedPopupVisible:l,contentCls:i,arrowCls:r,handlePopupVisibleChange:a}}});function nt(e,t,o,n,l,a){const i=N("trigger");return g(),M(i,{class:b(e.prefixCls),trigger:e.trigger,position:e.position,"popup-visible":e.computedPopupVisible,"popup-offset":10,"content-class":e.contentCls,"content-style":e.contentStyle,"arrow-class":e.arrowCls,"arrow-style":e.arrowStyle,"show-arrow":"","popup-container":e.popupContainer,"animation-name":"zoom-in-fade-out","auto-fit-transform-origin":"",onPopupVisibleChange:e.handlePopupVisibleChange},{content:D(()=>[R("div",{class:b(`${e.prefixCls}-title`)},[I(e.$slots,"title",{},()=>[X(Y(e.title),1)])],2),R("div",{class:b(`${e.prefixCls}-content`)},[I(e.$slots,"content",{},()=>[X(Y(e.content),1)])],2)]),default:D(()=>[I(e.$slots,"default")]),_:3},8,["class","trigger","position","popup-visible","content-class","content-style","arrow-class","arrow-style","popup-container","onPopupVisibleChange"])}var re=F(ot,[["render",nt]]);const it=Object.assign(re,{install:(e,t)=>{qe(e,t);const o=Fe(t);e.component(o+re.name,re)}});function lt(e){const t=y(e);return[t,n=>{t.value=n}]}function st(e,t){const{value:o}=fe(t),[n,l]=lt(le(o.value)?e:o.value);return de(o,i=>{le(i)&&l(void 0)}),[d(()=>le(o.value)?n.value:o.value),l,n]}const at=x({name:"TypographyEditContent",components:{Input:Qe},props:{text:{type:String,required:!0}},emits:["change","end","update:text"],setup(e,{emit:t}){const n=[`${A("typography")}-edit-content`],l=y();function a(r){t("update:text",r),t("change",r)}function i(){t("end")}return Ne(()=>{if(!l.value||!l.value.$el)return;const r=l.value.$el.querySelector("input");if(!r)return;r.focus&&r.focus();const{length:u}=r.value;r.setSelectionRange(u,u)}),{classNames:n,inputRef:l,onBlur:i,onChange:a,onEnd:i}}});function rt(e,t,o,n,l,a){const i=N("Input");return g(),q("div",{class:b(e.classNames)},[c(i,{ref:"inputRef","auto-size":"","model-value":e.text,onBlur:e.onBlur,onInput:e.onChange,onKeydown:Le(e.onEnd,["enter"])},null,8,["model-value","onBlur","onInput","onKeydown"])],2)}var pt=F(at,[["render",rt]]);const ut=x({name:"IconCopy",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const o=A("icon"),n=d(()=>[o,`${o}-copy`,{[`${o}-spin`]:e.spin}]),l=d(()=>{const i={};return e.size&&(i.fontSize=Ve(e.size)?`${e.size}px`:e.size),e.rotate&&(i.transform=`rotate(${e.rotate}deg)`),i});return{cls:n,innerStyle:l,onClick:i=>{t("click",i)}}}}),ct=["stroke-width","stroke-linecap","stroke-linejoin"],dt=R("path",{d:"M20 6h18a2 2 0 0 1 2 2v22M8 16v24c0 1.105.891 2 1.996 2h20.007A1.99 1.99 0 0 0 32 40.008V15.997A1.997 1.997 0 0 0 30 14H10a2 2 0 0 0-2 2Z"},null,-1),ft=[dt];function yt(e,t,o,n,l,a){return g(),q("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:b(e.cls),style:Ie(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...i)=>e.onClick&&e.onClick(...i))},ft,14,ct)}var pe=F(ut,[["render",yt]]);const vt=Object.assign(pe,{install:(e,t)=>{var o;const n=(o=t==null?void 0:t.iconPrefix)!=null?o:"";e.component(n+pe.name,pe)}}),mt=x({name:"IconEdit",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const o=A("icon"),n=d(()=>[o,`${o}-edit`,{[`${o}-spin`]:e.spin}]),l=d(()=>{const i={};return e.size&&(i.fontSize=Ve(e.size)?`${e.size}px`:e.size),e.rotate&&(i.transform=`rotate(${e.rotate}deg)`),i});return{cls:n,innerStyle:l,onClick:i=>{t("click",i)}}}}),gt=["stroke-width","stroke-linecap","stroke-linejoin"],Ct=R("path",{d:"m30.48 19.038 5.733-5.734a1 1 0 0 0 0-1.414l-5.586-5.586a1 1 0 0 0-1.414 0l-5.734 5.734m7 7L15.763 33.754a1 1 0 0 1-.59.286l-6.048.708a1 1 0 0 1-1.113-1.069l.477-6.31a1 1 0 0 1 .29-.631l14.7-14.7m7 7-7-7M6 42h36"},null,-1),ht=[Ct];function bt(e,t,o,n,l,a){return g(),q("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:b(e.cls),style:Ie(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...i)=>e.onClick&&e.onClick(...i))},ht,14,gt)}var ue=F(mt,[["render",bt]]);const wt=Object.assign(ue,{install:(e,t)=>{var o;const n=(o=t==null?void 0:t.iconPrefix)!=null?o:"";e.component(n+ue.name,ue)}}),kt=x({name:"TypographyOperations",components:{Tooltip:Re,IconCheckCircleFill:Xe,IconCopy:vt,IconEdit:wt},props:{editable:Boolean,copyable:Boolean,expandable:Boolean,isCopied:Boolean,isEllipsis:Boolean,expanded:Boolean,forceRenderExpand:Boolean,editTooltipProps:Object,copyTooltipProps:Object},emits:{edit:()=>!0,copy:()=>!0,expand:()=>!0},setup(e,{emit:t}){const o=A("typography"),n=d(()=>e.forceRenderExpand||e.expandable&&e.isEllipsis),{t:l}=Ye();return{prefixCls:o,showExpand:n,t:l,onEditClick(){t("edit")},onCopyClick(){t("copy")},onExpandClick(){t("expand")}}}});function Tt(e,t,o,n,l,a){const i=N("IconEdit"),r=N("Tooltip"),u=N("IconCheckCircleFill"),_=N("IconCopy");return g(),q(Ke,null,[e.editable?(g(),M(r,z({key:0,content:e.t("typography.edit")},e.editTooltipProps),{default:D(()=>[R("span",{class:b(`${e.prefixCls}-operation-edit`),onClick:t[0]||(t[0]=se((...C)=>e.onEditClick&&e.onEditClick(...C),["stop"]))},[c(i)],2)]),_:1},16,["content"])):ae("v-if",!0),e.copyable?(g(),M(r,We(z({key:1},e.copyTooltipProps)),{content:D(()=>[I(e.$slots,"copy-tooltip",{copied:e.isCopied},()=>[X(Y(e.isCopied?e.t("typography.copied"):e.t("typography.copy")),1)])]),default:D(()=>[R("span",{class:b({[`${e.prefixCls}-operation-copied`]:e.isCopied,[`${e.prefixCls}-operation-copy`]:!e.isCopied}),onClick:t[1]||(t[1]=se((...C)=>e.onCopyClick&&e.onCopyClick(...C),["stop"]))},[I(e.$slots,"copy-icon",{copied:e.isCopied},()=>[e.isCopied?(g(),M(u,{key:0})):(g(),M(_,{key:1}))])],2)]),_:3},16)):ae("v-if",!0),e.showExpand?(g(),q("a",{key:2,class:b(`${e.prefixCls}-operation-expand`),onClick:t[2]||(t[2]=se((...C)=>e.onExpandClick&&e.onExpandClick(...C),["stop"]))},[I(e.$slots,"expand-node",{expanded:e.expanded},()=>[X(Y(e.expanded?e.t("typography.collapse"):e.t("typography.expand")),1)])],2)):ae("v-if",!0)],64)}var Pe=F(kt,[["render",Tt]]);let p;function $t(e){return Array.prototype.slice.apply(e).map(o=>`${o}: ${e.getPropertyValue(o)};`).join("")}function ce(e){if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0}var Et=(e,t,o,n)=>{p||(p=document.createElement("div"),document.body.appendChild(p));const{rows:l,suffix:a,ellipsisStr:i}=t,r=window.getComputedStyle(e),u=$t(r),_=ce(r.lineHeight),C=Math.round(_*l+ce(r.paddingTop)+ce(r.paddingBottom));p.setAttribute("style",u),p.setAttribute("aria-hidden","true"),p.style.height="auto",p.style.minHeight="auto",p.style.maxHeight="auto",p.style.position="fixed",p.style.left="0",p.style.top="-99999999px",p.style.zIndex="-200",p.style.whiteSpace="normal";const L=ze({render(){return c("span",null,[o])}});L.mount(p);const ee=Array.prototype.slice.apply(p.childNodes[0].cloneNode(!0).childNodes);L.unmount(),p.innerHTML="";const P=document.createTextNode(`${i}${a}`);p.appendChild(P),ee.forEach(h=>{p.appendChild(h)});const B=document.createTextNode(n);p.insertBefore(B,P);function v(){return p.offsetHeight<=C}if(v())return{ellipsis:!1,text:n};function f(h,$=0,O=n.length,W=0){const j=Math.floor(($+O)/2),te=n.slice(0,j);if(h.textContent=te,$>=O-1)for(let w=O;w>=$;w-=1){const E=n.slice(0,w);if(h.textContent=E,v()||!E)return}v()?f(h,j,O,j):f(h,$,j,W)}return f(B),{text:B.textContent,ellipsis:!0}};const St=async e=>{var t;if((t=navigator.clipboard)!=null&&t.writeText)try{await navigator.clipboard.writeText(e);return}catch(a){console.error(a??new DOMException("The request is not allowed","NotAllowedError"))}const o=document.createElement("span");o.textContent=e,o.style.whiteSpace="pre",document.body.appendChild(o);const n=window.getSelection(),l=window.document.createRange();n==null||n.removeAllRanges(),l.selectNode(o),n==null||n.addRange(l);try{window.document.execCommand("copy")}catch(a){console.error(`execCommand Error: ${a}`)}n==null||n.removeAllRanges(),window.document.body.removeChild(o)};let V;function xt(e){if(!e)return"";V||(V=document.createElement("div"),V.setAttribute("aria-hidden","true"),document.body.appendChild(V));const t=ze({render(){return c("div",null,[e])}});t.mount(V);const o=V.innerText;return t.unmount(),o}var Pt=Object.defineProperty,Bt=Object.defineProperties,Ot=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,jt=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Oe=(e,t,o)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Nt=(e,t)=>{for(var o in t||(t={}))jt.call(t,o)&&Oe(e,o,t[o]);if(Be)for(var o of Be(t))Vt.call(t,o)&&Oe(e,o,t[o]);return e},It=(e,t)=>Bt(e,Ot(t));function Ae(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ze(e)}function zt(e){const{bold:t,mark:o,underline:n,delete:l,code:a}=e,i=[];return t&&i.push("b"),n&&i.push("u"),l&&i.push("del"),a&&i.push("code"),o&&i.push("mark"),i}function je(e,t){const{mark:o}=e,n=zt(e),l=Q(o)&&o.color?{backgroundColor:o.color}:{};return n.reduce((a,i)=>c(i,i==="mark"?{style:l}:{},Ae(a)?a:{default:()=>[a]}),t)}function Rt(e){const t=!!e.showTooltip,o=Q(e.showTooltip)&&e.showTooltip.type==="popover"?it:Re,n=Q(e.showTooltip)&&e.showTooltip.props||{};return It(Nt({rows:1,suffix:"",ellipsisStr:"...",expandable:!1,css:!1},et(e,["showTooltip"])),{showTooltip:t,TooltipComponent:o,tooltipProps:n})}var At=x({name:"TypographyBase",inheritAttrs:!1,props:{component:{type:String,required:!0},type:{type:String},bold:{type:Boolean},mark:{type:[Boolean,Object],default:!1},underline:{type:Boolean},delete:{type:Boolean},code:{type:Boolean},disabled:{type:Boolean},editable:{type:Boolean},editing:{type:Boolean,default:void 0},defaultEditing:{type:Boolean},editText:{type:String},copyable:{type:Boolean},copyText:{type:String},copyDelay:{type:Number,default:3e3},ellipsis:{type:[Boolean,Object],default:!1},editTooltipProps:{type:Object},copyTooltipProps:{type:Object}},emits:{editStart:()=>!0,change:e=>!0,"update:editText":e=>!0,editEnd:()=>!0,"update:editing":e=>!0,copy:e=>!0,ellipsis:e=>!0,expand:e=>!0},setup(e,{slots:t,emit:o,attrs:n}){const{editing:l,defaultEditing:a,ellipsis:i,copyable:r,editable:u,copyText:_,editText:C,copyDelay:L,component:ee}=fe(e),P=A("typography"),B=d(()=>[P,{[`${P}-${e.type}`]:e.type,[`${P}-disabled`]:e.disabled}]),v=y(),f=y(""),[h,$]=st(a.value,Ue({value:l})),O=d(()=>u.value&&h.value);function W(){o("update:editing",!0),o("editStart"),$(!0)}function j(s){o("update:editText",s),o("change",s)}function te(){h.value&&(o("update:editing",!1),o("editEnd"),$(!1))}const w=y(!1);let E=null;function ye(){var s;const T=(s=_.value)!=null?s:f.value;St(T||""),w.value=!0,o("copy",T),E=setTimeout(()=>{w.value=!1},L.value)}Ee(()=>{E&&clearTimeout(E),E=null});const H=y(!1),k=y(!1),oe=y(""),m=d(()=>Rt(Q(i.value)&&i.value||{}));let ne=null;function ve(){const s=!k.value;k.value=s,o("expand",s)}function me(s=!1){return m.value.css?c(Pe,{editable:u.value,copyable:r.value,expandable:m.value.expandable,isCopied:w.value,isEllipsis:G.value,expanded:k.value,forceRenderExpand:s||k.value,editTooltipProps:e.editTooltipProps,copyTooltipProps:e.copyTooltipProps,onEdit:W,onCopy:ye,onExpand:ve},{"copy-tooltip":t["copy-tooltip"],"copy-icon":t["copy-icon"],"expand-node":t["expand-node"]}):c(Pe,{editable:u.value,copyable:r.value,expandable:m.value.expandable,isCopied:w.value,isEllipsis:H.value,expanded:k.value,forceRenderExpand:s,editTooltipProps:e.editTooltipProps,copyTooltipProps:e.copyTooltipProps,onEdit:W,onCopy:ye,onExpand:ve},{"copy-tooltip":t["copy-tooltip"],"copy-icon":t["copy-icon"],"expand-node":t["expand-node"]})}function _e(){if(!v.value)return;const{ellipsis:s,text:T}=Et(v.value,m.value,me(!!m.value.expandable),f.value);H.value!==s&&(H.value=s,m.value.css||o("ellipsis",s)),oe.value!==T&&(oe.value=T||"")}function K(){i.value&&!k.value&&(Se(ne),ne=tt(()=>{_e()}))}Ee(()=>{Se(ne)}),de(()=>m.value.rows,()=>{K()}),de(i,s=>{s?K():H.value=!1});let U=[];const ge=()=>{if(i.value||r.value||u.value){const s=xt(U);s!==f.value&&(f.value=s,K())}};Ne(ge),Ge(ge);const ie=y(),G=y(!1),Ce=()=>{if(v.value&&ie.value){const s=ie.value.offsetHeight>v.value.offsetHeight;s!==G.value&&(G.value=s,o("ellipsis",s))}},He=d(()=>k.value?{}:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":m.value.rows,"-webkit-box-orient":"vertical"});return()=>{var s,T;if(U=((s=t.default)==null?void 0:s.call(t))||[],O.value){const J=(T=C.value)!=null?T:f.value;return c(pt,{text:J,onChange:S=>{S!==J&&j(S)},onEnd:te},null)}const{suffix:Me,ellipsisStr:De,showTooltip:he,tooltipProps:be,TooltipComponent:we}=m.value,Z=H.value&&!k.value,ke=Z&&!he?{title:f.value}:{},Te=ee.value;if(m.value.css){const J=je(e,U),S=c(Te,z({class:B.value,ref:v,style:He.value},ke,n),{default:()=>[c("span",{ref:ie},[J])]});return G.value?c(we,z(be,{onResize:()=>Ce()}),{default:()=>[S],content:()=>f.value}):c(xe,{onResize:()=>{Ce()}},Ae(S)?S:{default:()=>[S]})}const $e=je(e,Z?oe.value:U);return c(xe,{onResize:()=>K()},{default:()=>[c(Te,z({class:B.value,ref:v},ke,n),{default:()=>[Z&&he?c(we,be,{default:()=>[c("span",null,[$e])],content:()=>f.value}):$e,Z?De:null,Me,me()]})]})}}}),Dt=x({name:"TypographyText",inheritAttrs:!1,props:{ellipsis:{type:[Boolean,Object],default:!1}},setup(e){const{ellipsis:t}=fe(e);return{component:d(()=>t!=null&&t.value?"div":"span")}},render(){const{ellipsis:e,component:t}=this;return c(At,z(this.$attrs,{ellipsis:e,component:t}),this.$slots)}});export{Dt as T};
